<ion-header *transloco="let t">
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button defaultHref="/tabs/recommended-cars" [text]="t('common.actions.back')"></ion-back-button>
        </ion-buttons>
        <ion-title>{{ t('filters.title') }}</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content *transloco="let t">
    <form [formGroup]="form">
        <ion-accordion-group>
            <ion-accordion [value]="filtersAccordionGroups.BASIC_INFORMATION">
                <ion-item slot="header" color="light">
                    <ion-label class="basic-info-title">
                        {{ t('filters.sections.basic_information') }}
                    </ion-label>
                </ion-item>
                <ion-item (click)="carBrandSelect.open()" class="ion-no-padding" slot="content">
                    <ion-label class="search-label" [class.remove-item]="form.controls.brands.value?.length">{{
                        t('filters.search_car_brands')
                    }}</ion-label>
                    <car-searchable-select
                        #carBrandSelect
                        formControlName="brands"
                        [multiple]="false"
                        [data]="carBrands()"
                        [visibleValue]="CAR_BRAND_VISIBLE_VALUE"
                        [hiddenValue]="CAR_BRAND_HIDDEN_VALUE"
                    >
                        <ion-title class="title">{{ t('common.car_brands') }}</ion-title>
                    </car-searchable-select>
                </ion-item>

                <ion-item class="ion-no-padding" slot="content">
                    <ion-label class="search-label" [class.remove-item]="form.controls.brands.value?.length">{{
                        t('filters.search_car_models')
                    }}</ion-label>
                    <car-searchable-select
                        #carModelsSelect
                        formControlName="models"
                        [multiple]="true"
                        [data]="carModels()"
                        [visibleValue]="CAR_MODELS_VISIBLE_VALUE"
                        [hiddenValue]="CAR_MODELS_HIDDEN_VALUE"
                    ></car-searchable-select>
                </ion-item>
            </ion-accordion>
        </ion-accordion-group>
    </form>
</ion-content>
